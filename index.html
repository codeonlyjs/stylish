<html>
<head>
    <link href="./stylish.css" type="text/css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/commonmark@0.31.2/dist/commonmark.min.js"></script>
	<meta name="viewport" content="initial-scale=1">
    <style>
    :root
    {
    }
    main
    {
        max-width: 800px;
        margin: 0 auto;
    }
    div.sample
    {
        position: relative;
    }
    button.show-code-button
    {
        padding: 3px 10px;
        position: absolute;
        top: 0;
        right: 0;
        font-size: 10pt;
        opacity: 40%;
        &::after 
        { 
            content: "</>"; 
        }
        &:hover
        {
            opacity: 100%;
        }
    }

    #viewCodeDialog
    {
        main
        {
            min-width: 400px;
            padding: 0;
            margin: 0;
        }
        pre
        {
            max-height: 400px;
            padding: 20px;
            margin: 0;
            overflow: auto;
        }
    }

    #code
    {
        padding: 0;
        font-size: smaller;

        .tag { color: #f92672; }
        .attr { color: #a6e22e; }
        .value { color: #e6db74; }
        .comment { color: #080; }
    }

    .grid.demo
    {
        cell-row-gap: 5px;
        cell-column-gap: 5px;
        div
        {
            background-color: rgb(from var(--danger-color) r g b / 30%);
            text-align: center;
        }
    }



    </style>
</head>
<body>

<main>

<pre class="markdown">
# Stylish

Welcome to Stylish - a clean, simple, customizable, theme aware, appearance 
only stylesheet.

Stylish provides visual appearance styling only, no script behaviours and no 
layout functionality. This is intentional.

In the following examples, click the &lt;/&gt; buttons on the right
to view the underlying markup/script.

## Auto, Light and Dark Themes

Stylish supports light and dark themes.  By default the mode is selected
based on the user's preference, or you can force one or the other by
adding the `dark` or `light` class to the root `&lt;html&gt;` element 
of the document.
</pre>

<div class="sample">
<div class="control-group">
    <input type="radio" class="button" name="theme" id="theme-auto" checked="" onclick="loadTheme('auto')">
    <label for="theme-auto">Auto</label>

    <input type="radio" class="button" name="theme" id="theme-dark" onclick="loadTheme('dark')">
    <label for="theme-dark">Dark</label>

    <input type="radio" class="button" name="theme" id="theme-light" onclick="loadTheme('light')">
    <label for="theme-light">Light</label>
</div>

<script>
function loadTheme(name)
{
    let cl = document.documentElement.classList;
    cl.remove("dark", "light");
    if (name != 'auto')
        cl.add(name);
};
</script>
</div>

<div class="sample">
    <div>
        <label><input class="theme-switch" type="checkbox" title="Dark/Light Mode" onClick="toggleTheme(event)"></label>
    </div>
</div>

<script>
function toggleTheme(ev)
{
    loadTheme(ev.target.checked ? "dark" : "light");
}

let q = window.matchMedia('(prefers-color-scheme: dark)');
if (q.matches)
    document.querySelectorAll(".theme-switch").forEach(x => x.checked = true);

q.addEventListener('change', event => {
    alert(event.matches ? "dark" : "light");
});

</script>


<pre class="markdown">
## Colors

Stylish uses several classes to change the primary color of items:

* `accent`
* `success`
* `info`
* `warning`
* `danger`

## Text Styles
</pre>

<div class="sample">
<p>A normal paragraph</p>
<p>Colored text:
<span class="accent">accent</span>
<span class="success">success</span>
<span class="info">info</span>
<span class="warning">warning</span>
<span class="danger">danger</span>
</p>
<p>A link <a href="#">toptensoftware.com</a>.</p>
<p>A link with warning color <a href="#" class="warning">warning link</a>.</p>
<p>The <code>muted</code> class can be used to <span class="muted">dim text</span>.</p>

<h1>Heading 1</h1>
<p>Paragraph</p>
<h2>Heading 2</h2>
<p>Paragraph</p>
<h3>Heading 3</h3>
<p>Paragraph</p>
<h4>Heading 4</h4>
<p>Paragraph</p>
<h5>Heading 5</h5>
<p>Paragraph</p>
<h6>Heading 6</h6>
<p>Paragraph</p>


</div>

<pre class="markdown">
## Nav Areas

In `&lt;nav&gt;` sections:

* `&lt;a&gt;` links use normal body text color instead
of the in-text highlight color
* `&lt;ul&gt;` list items have bullets removed

</pre>

<div class="sample">
<nav>
<a href="#">Apples</a> | <a href="#">Pears</a> | <a href="#">Bananas</a>
<ul>
<li>List Item 1</li>
<li>List Item 2</li>
</ul>
</nav>
</div>


<pre class="markdown">
## Buttons

Buttons support the the following classes:

* color classes as shown above
* `subtle` to remove the background from a button until hovered
* `dropdown` to add a drop down Arrow
* `small` and `large` to change the button size
</pre>

<p>Active:</p>
<div class="sample">
    <button>normal</button>
    <button class="accent">accent</button>
    <button class="success">success</button>
    <button class="info">info</button>
    <button class="warning">warning</button>
    <button class="danger">danger</button>
    <a href="#" class="button danger">Link</a>
</div>

<p>Disabled:</p>
<div class="sample">
    <button disabled>normal</button>
    <button disabled class="accent">accent</button>
    <button disabled class="success">success</button>
    <button disabled class="info">info</button>
    <button disabled class="warning">warning</button>
    <button disabled class="danger">danger</button>
</div>

<p>Subtle:</p>
<div class="sample">
    <button class="subtle">normal</button>
    <button class="subtle accent">accent</button>
    <button class="subtle success">success</button>
    <button class="subtle info">info</button>
    <button class="subtle warning">warning</button>
    <button class="subtle danger">danger</button>
    <a href="#" class="subtle button danger">Link</a>
</div>

<p>Subtle Muted:</p>
<div class="sample">
    <button class="subtle muted">normal</button>
    <button class="subtle muted accent">accent</button>
    <button class="subtle muted success">success</button>
    <button class="subtle muted info">info</button>
    <button class="subtle muted warning">warning</button>
    <button class="subtle muted danger">danger</button>
    <a href="#" class="subtle muted button danger">Link</a>
</div>

<p>With Drop Arrow:</p>
<div class="sample">
    <button class="dropdown">normal</button>
    <button class="dropdown accent">accent</button>
    <button class="dropdown success">success</button>
    <button class="dropdown info">info</button>
    <button class="dropdown warning">warning</button>
    <button class="dropdown danger">danger</button>
    <button class="dropdown standalone">&nbsp;</button>
</div>

<p>Sized:</p>
<div class="sample">
    <button class="small">small</button>
    <button class="">medium</button>
    <button class="large">large</button>
    <button class="small dropdown">small</button>
    <button class="dropdown">medium</button>
    <button class="large dropdown">large</button>
    <button class="small dropdown standalone">&nbsp;</button>
    <button class="dropdown standalone">&nbsp;</button>
    <button class="large dropdown standalone">&nbsp;</button>
</div>


<pre class="markdown">
## Pills

Use the `pill` class on a `&lt;span&gt;` to make a pill.  The `small`
and `large` classes adjust the pill size:
</pre>

<div class="sample">
<p>
    <span class="pill">Normal</span>
    <span class="pill accent">Accent</span>
    <span class="pill success">Success</span>
    <span class="pill info">Info</span>
    <span class="pill warning">Warning</span>
    <span class="pill danger">Danger</span>
</p>
<p>
    <span class="pill accent small">Small</span>
    <span class="pill accent">Medium</span>
    <span class="pill accent large">Large</span>
</p>
</div>

<pre class="markdown">
## Text Fields

Use the color classes re-color a the border of most controls:
</pre>

<div class="sample">
<p><input type="text" placeholder="Text Field"></p>
<p><input class="danger" type="text" placeholder="'danger' class"></p>
<p><input type="password" placeholder="Enter Password"></p>
<p><input type="file" placeholder="Choose File"></p>
<p><label><input type="color"> Pick a Color</label></p>
<p><textarea style="width: 100%; height: 80px">Text Area</textarea></p>
</div>

<pre class="markdown">
## Control Groups

Control groups combine several controls together to appear as a single 
multi-part control.  

Use `&lt;span&gt;` to put indicators around text 
fields, or see below for examples of grouping radio and checkbox buttons.
</pre>

<p>
<div class="sample">
<div class="control-group">
    <span>$</span>
    <input class="right" type="text" value="1024">
    <span class="">.00</span>
</div>
</div>
</p>

<p>
<div class="sample">
<div class="control-group accent">
    <span>$</span>
    <input class="right" type="text" value="1024">
    <span class="">.00</span>
</div>
</div>
</p>

<pre class="markdown">
## Radio Buttons

Radio buttons can be styled with color classes, or made to 
look like buttons by adding the `button` class to the input 
element.  

Note: For button looking radio buttons the `&lt;label&gt;` 
must not be wrapping the input - it must placed as immediately
following sibling of the `&lt;input&gt;`.
</pre>


<p>Normal:</p>
<div class="sample">
    <div>
        <label><input name="radio" type="radio" checked>Radio 1</label>
    </div>
    <div>
        <label><input name="radio" type="radio">Radio 2</label>
    </div>
    <div>
        <label><input name="radio" type="radio" disabled>Radio 3</label>
    </div> 
</div>

<p>Horizontal:</p>
<div class="sample">
    <div>
        <label><input name="radio1" type="radio" checked>Radio 1</label>
        <label><input name="radio1" type="radio">Radio 2</label>
        <label><input name="radio1" type="radio" disabled>Radio 3</label>
    </div> 
</div>

<p>Grouped Button Style:</p>
<div class="sample">
<div class="control-group">
    <input type="radio" class="button" name="radio2" id="radio1" checked>
    <label for="radio1">Radio 1</label>

    <input type="radio" class="button" name="radio2" id="radio2">
    <label for="radio2">Radio 2</label>

    <input type="radio" class="button" name="radio2" id="radio3">
    <label for="radio3">Radio 3</label>
</div>
</div>

<p>Ungrouped Button Style:</p>
<div class="sample">
<div class="danger">
    <input type="radio" class="button" name="radio3" id="radio4" checked>
    <label for="radio4">Radio 1</label>

    <input type="radio" class="button" name="radio3" id="radio5">
    <label for="radio5">Radio 2</label>

    <input type="radio" class="button" name="radio3" id="radio6">
    <label for="radio6">Radio 3</label>
</div>
</div>


<pre class="markdown">
## Checkboxes

Radio buttons can be styled with color classes, or made to 
look like buttons by adding the `button` class to the input 
element.  

Adding the `switch` class to a checkbox makes it appear as
a horizontal sliding switching instead of a checkmark.

Note: For button looking radio buttons the `&lt;label&gt;` 
must not be wrapping the input - it must placed as immediately
following sibling of the `&lt;input&gt;`.
</pre>

<p>Normal:</p>
<div class="sample">
    <div>
        <label><input type="checkbox">Checkbox</label>
    </div>

    <div>
        <label><input type="checkbox" checked>Checkbox</label>
    </div>

    <div>
        <label><input class="warning" type="checkbox" checked>Colored Checkbox</label>
    </div>

    <div>
        <label><input type="checkbox" disabled>Disabled Checkbox</label>
    </div>
</div>

<p>Horizontal:</p>
<div class="sample">
    <div>
        <label><input type="checkbox" checked>Apples</label>
        <label><input type="checkbox">Pears</label>
        <label><input type="checkbox">Bananas</label>
    </div>
</div>

<p>Switches:</p>
<div class="sample">
    <div>
        <label><input class="switch" type="checkbox">Switch</label>
    </div>

    <div>
        <label><input class="switch" type="checkbox" checked>Switch</label>
    </div>

    <div>
        <label><input class="switch danger" type="checkbox" checked>Colored Switch</label>
    </div>

    <div>
        <label><input class="switch" type="checkbox" disabled>Disabled Switch</label>
    </div>
</div>

<p>Grouped Button Style:</p>
<div class="sample">
<div class="control-group accent">
    <input type="checkbox" class="button" id="checkbox1" checked>
    <label for="checkbox1">Check 1</label>

    <input type="checkbox" class="button" id="checkbox2">
    <label for="checkbox2">Check 2</label>

    <input type="checkbox" class="button" id="checkbox3">
    <label for="checkbox3">Check 3</label>
</div>
</div>

<p>Ungrouped Button Style:</p>
<div class="sample">
<div>
    <input type="checkbox" class="button" id="checkbox4" checked>
    <label for="checkbox4">Check 1</label>

    <input type="checkbox" class="button" id="checkbox5">
    <label for="checkbox5">Check 2</label>

    <input type="checkbox" class="button" id="checkbox6">
    <label for="checkbox6">Check 3</label>
</div>
</div>

<p>Subtle Button Style:</p>
<div class="sample">
<div class="">
    <input type="checkbox" class="button" id="checkbox7" checked>
    <label class="subtle" for="checkbox7">Check 1</label>

    <input type="checkbox" class="button" id="checkbox8">
    <label class="subtle" for="checkbox8">Check 2</label>

    <input type="checkbox" class="button " id="checkbox9">
    <label class="subtle" for="checkbox9">Check 3</label>
</div>
</div>

<pre class="markdown">
## Spinners

To create a spinner just add the `spinner` class to an
empty `&lt;span&gt;`.

Use `xsmall`, `small`, `large` and `xlarge` classed to adjut
the size of the spinner.
</pre>

<div class="sample">
<div>
    <span class="spinner normal"></span>
    <span class="spinner accent"></span>
    <span class="spinner success"></span>
    <span class="spinner info"></span>
    <span class="spinner warning"></span>
    <span class="spinner danger"></span>
</div>
<div>
    <span class="spinner xsmall accent"></span>
    <span class="spinner small accent"></span>
    <span class="spinner accent"></span>
    <span class="spinner large accent"></span>
    <span class="spinner xlarge accent"></span>
</div>
</div>

<pre class="markdown">
## Dialog Frames

Dialogs should be constructed with the following HTML structure:

```
dialog
    form
        header
            button.close
            span.title
        main
            (put your dialog content here)
        footer
            (put your OK, cancel buttons here)
            
```
</pre>

<div class="sample">

<button onclick="showTestDialog()">Show Dialog</button>

<script>
function showTestDialog()
{
    document.getElementById("testDialog").showModal();
}
</script>

<dialog id="testDialog">
    <form method="dialog">
        <header>
            <button class="close subtle accent" tabIndex="-1"></button>
            <span class="title">Title</span>
        </header>
        <main style="width: 400px">
        <div class="grid">
            <label class="cell-1-4 cell-right">Email:</label>
            <input class="cell-24-4" type="text" autofocus>
            <label class="cell-1-4 cell-right">Password:</label>
            <input class="cell-24-4" type="password">
        </div>
        </main>
        <footer>
            <button class="accent">OK</button>
            <button>Cancel</button>
        </footer>
    </form>
</dialog>
</div>

<pre class="markdown">
## Grid System

Although Stylish is mostly about visual styling it also includes
a simple cell-12 system.

To use the grid system:

1. Use the class `grid` on the container (usually a `&lt;div&gt;`)
2. On the grid cells assign classes of the form `cell-N-M` where:
    * N is the column number to place the item in.
    * M is number of columns across the horizontal space.

For example:

* `cell-1-1` divides the horizontal space by 1, and uses the first column 
  (ie: full width)
* `cell-1-2` the first of two columns
* `cell-2-2` the second of two columns
* `cell-3-4` the third of four columns
* etc...

To span multiple columns, use two digits for `N` where the first is the
first column number and the second is the last column number.  (eg:
`cell-24-4` is columns 2,3 and 4 of a 4 column split).
</pre>

<div class="sample">
<div class="grid demo" style="margin: 0 50px">
    <div class="cell-1-1">1-1</div>

    <div class="cell-1-2">1-2</div>
    <div class="cell-2-2">2-2</div>

    <div class="cell-1-3">1-3</div>
    <div class="cell-2-3">2-3</div>
    <div class="cell-3-3">3-3</div>

    <div class="cell-1-3">1-3</div>
    <div class="cell-23-3">23-3</div>

    <div class="cell-12-3">12-3</div>
    <div class="cell-3-3">3-3</div>

    <div class="cell-1-4">1-4</div>
    <div class="cell-2-4">2-4</div>
    <div class="cell-3-4">3-4</div>
    <div class="cell-4-4">4-4</div>

    <div class="cell-1-4">1-4</div>
    <div class="cell-23-4">23-4</div>
    <div class="cell-4-4">4-4</div>

    <div class="cell-1-4">1-4</div>
    <div class="cell-24-4">24-4</div>

    <div class="cell-13-4">13-4</div>
    <div class="cell-4-4">4-4</div>

    <div class="cell-1-6">1-6</div>
    <div class="cell-2-6">2-6</div>
    <div class="cell-3-6">3-6</div>
    <div class="cell-4-6">4-6</div>
    <div class="cell-5-6">5-6</div>
    <div class="cell-6-6">6-6</div>

    <div class="cell-1-6">1-6</div>
    <div class="cell-23-6">23-6</div>
    <div class="cell-45-6">45-6</div>
    <div class="cell-6-6">6-6</div>
</div>
</div>


<pre class="markdown">
## Customization

Most aspects of the theme can be adjusted with CSS variables applied
to the root element of the document:

Fonts:

* `--font-family` - the font family used by all text and controls
* `--font-size` - the base font size

To customize colors, provide colors for both the dark and the light theme:

* `--[dark/light]-button-color` - color for buttons without a color class
* `--[dark/light]-accent-color` - color of the `accent` color class
* `--[dark/light]-success-color` - color of the `success` color class
* `--[dark/light]-info-color` - color of the `info` color class
* `--[dark/light]-warning-color` - color of the `warning` color class
* `--[dark/light]-danger-color` - color of the `danger` color class
* `--[dark/light]-body-back-color` - color of the main document background
* `--[dark/light]-body-fore-color` - color of the text in the main document

All other colors are derived from the above and can be used when
styling your own elements:

* `--contrast-color` - the color of text in front of the other class colors
* `--focus-color` - color for focus-visible outline highlights
* `--link-color` - color for text links
* `--code-color` - color for code text
* `--gridline-color` - color for grid lines and outlines
* `--fore-color` - white for dark theme, black for light theme
* `--back-color` - black for dark theme, white for light Theme
* `--fore-color-l` - fore color luminosity (useful for blending other colors towards)
* `--back-color-l` - back color luminosity (useful for blending other colors towards)
* `--button-color` - color for buttons without a color class
* `--accent-color` - color of the `accent` color class
* `--success-color` - color of the `success` color class
* `--info-color` - color of the `info` color class
* `--warning-color` - color of the `warning` color class
* `--danger-color` - color of the `danger` color class
* `--body-back-color` - color of the main document background
* `--body-fore-color` - color of text in the main document
* `--class-text-color` - text color for the currently selected color class
* `--class-back-color` - background color for currently selected color class
* `--class-fore-color` - foreground color for currently selected color class
* `--class-accent-color` - accent color for currently selected color class
</pre>


<dialog id="viewCodeDialog">
    <form method="dialog">
        <header>
            <button class="close subtle accent" tabIndex="-1"></button>
            <span class="title">Title</span>
        </header>
        <main>
        <pre><code id="code"></code></pre>
        </main>
        <footer>
            <button id="copy">Copy</button>
            <button>Close</button>
        </footer>
    </form>
</dialog>

</main>

<script>

// Convert <pre> blocks with markdown
for (let p of document.querySelectorAll('pre.markdown'))
{
    if (p.id)
        continue;
    let div = document.createElement("div");
    let parser = new commonmark.Parser();
    let ast = parser.parse(p.innerText);
    let renderer = new commonmark.HtmlRenderer();
    let html = renderer.render(ast);
    div.innerHTML = html;
    p.replaceWith(div);
}


// Show the code for a sample <div>
function showCode(event)
{
    // Get code lines
    let code = event.target.parentNode.innerHTML;
    code = code.replace('<button class="show-code-button"></button>', "");
    let codeLines = code.split('\n');

    // Remove lines that are completely blank
    //codeLines = codeLines.map(x => x.replace(/^[ \t]*$/, ''));

    while (codeLines[0] == '')
        codeLines.shift()
    while (codeLines[codeLines.length - 1] == '')
        codeLines.pop();

    // Remove leading whitespace
    let leadingWhitespace = codeLines[0].match(/^[ \t]*/)[0];
    codeLines = codeLines.map(x => {
        if (x.startsWith(leadingWhitespace))
            return x.substring(leadingWhitespace.length);
        else
            return x;
    });
    code = codeLines.join('\n');

    code = code.replace(/<(.*?)>/g, function(o, i, x) {

        if (o.startsWith('<!--') && o.endsWith('-->'))
            return `&lt;<span class='comment'>${i}</span>&gt;`;


        // Highlight the tag
        i = i.replace(/^(\/)?([a-zA-Z0-9]+)( .*)?/, function(o, m1, m2, m3) {
            if (m3)
            {
                m3 = m3.replace(/(.*?)=\'(.*?)\'/g, function(o, m1, m2) {
                    return `<span class='attr'>${m1}</span>='<span class='value'>${m2}</span>'`
                });
                m3 = m3.replace(/(.*?)=\"(.*?)\"/g, function(o, m1, m2) {
                    return `<span class='attr'>${m1}</span>="<span class='value'>${m2}</span>"`
                });
            }
            else
                m3 = '';
            return `${m1??""}<span class='tag'>${m2}</span>${m3}`;
        });
    
    
        return `&lt;${i}&gt;`
    });

        

    document.getElementById('code').innerHTML = code;
    document.getElementById("viewCodeDialog").showModal();
}

for (let s of document.querySelectorAll('div.sample'))
{
    let button = document.createElement("button");
    button.classList.add("show-code-button");
    s.appendChild(button);
    button.addEventListener('click', showCode);
}

document.getElementById("copy").addEventListener('click', function(ev){

    let code = document.getElementById('code').innerText;

    if (navigator.clipboard) {
        navigator.clipboard.writeText(code);
    }

    ev.preventDefault();

})


</script>
</body>
</html>
